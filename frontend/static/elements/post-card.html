<!--
Copyright 2015 Google Inc. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http:#www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to writing, software distributed
under the License is distributed on a "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied.

See the License for the specific language governing permissions and
limitations under the License.
-->
<link rel="import" href="https://www.polymer-project.org/1.0/components/polymer/polymer.html">
<link rel="import" href="https://www.polymer-project.org/1.0/components/core-icon-button/core-icon-button.html">
<polymer-element name="post-card">
    <template>
        <style>
        :host {
            display: block;
            position: relative;
            background-color: white;
            padding: 20px;
            width: 100%;
            font-size: 1.2rem;
            font-weight: 300;
        }

        .card-header {
            margin-bottom: 10px;
        }

        polyfill-next-selector {
            content: '.card-header h2';
        }

        .card-header::content h2 {
            margin: 0;
            font-size: 1.8rem;
            font-weight: 300;
        }

        polyfill-next-selector {
            content: '.card-header img';
        }

        .card-header::content img {
            width: 70px;
            border-radius: 50%;
            margin: 10px;
        }

        core-icon-button {
            position: absolute;
            top: 3px;
            right: 3px;
            color: #636363;
        }

        :host([favorite]) core-icon-button {
            color: #da4336;
        }
        </style>
        <div class="card-header" layout horizontal center>
            <content select="img"></content>
            <content select="h2"></content>
        </div>
        <core-icon-button id="favicon" icon="favorite" on-tap="{{favoriteTapped}}">
        </core-icon-button>
        <content></content>
    </template>
    <script>
    Polymer({
        publish: {
            favorite: {
                value: false,
                reflect: true
            }
        },
        favoriteTapped: function() {
            this.favorite = !this.favorite;
            this.fire('favorite-tap');
        }
    });
    </script>
</polymer-element>
